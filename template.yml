AWSTemplateFormatVersion: '2010-09-09'
Transform: 'AWS::Serverless-2016-10-31'

Globals:
  Api:
    EndpointConfiguration: REGIONAL
    # Your CORS hosts need to be in this format - note the two layers of quotes.
    Cors: "'*'"

# Our Python callback
Resources:
  VacinacaoFunction:
    Type: AWS::Serverless::Function
    Properties:
      PackageType: Image
      ImageUri: 244978745220.dkr.ecr.us-east-1.amazonaws.com/vacinacao-app:latest
      Events:
        Callback:
          Type: Api
          Properties:
            Path: /search
            Method: get
    Metadata:
      DockerTag: vacinacaofunction:vacinacao-img
      DockerContext: .
      Dockerfile: Dockerfile
